# Story 2.8: 빈 상태 UI 및 온보딩

## Status
Draft

## Story
**As a** 새로 가입한 사용자 또는 노트가 없는 사용자,
**I want** 노트가 없을 때 친근하고 유용한 빈 상태(Empty State) 화면을 보고 싶다,
**so that** 무엇을 해야 할지 명확히 알고 첫 번째 노트를 쉽게 작성할 수 있다

## Acceptance Criteria
1. 노트가 0개일 때 목록 대신 빈 상태 UI가 표시되어야 함
2. 빈 상태 UI는 다음 요소를 포함해야 함:
   - 친근한 일러스트레이션 또는 아이콘
   - 명확한 메시지 ("아직 노트가 없습니다" 등)
   - 안내 문구 ("첫 번째 노트를 작성하여 시작하세요" 등)
   - "새 노트 작성" CTA 버튼
3. 빈 상태 UI는 반응형으로 작동해야 함 (모바일/태블릿/데스크톱)
4. 검색 결과가 0개일 때도 적절한 빈 상태 UI를 표시해야 함 ("검색 결과가 없습니다")
5. 휴지통이 비어있을 때도 적절한 빈 상태 UI를 표시해야 함 (이미 구현됨)
6. (선택적) 첫 방문 사용자에게는 간단한 온보딩 툴팁을 표시할 수 있음
7. 빈 상태에서 "새 노트 작성" 버튼 클릭 시 노트 작성 페이지로 이동해야 함
8. 빈 상태 UI는 Apple/Notion 스타일의 미니멀한 디자인이어야 함

## Tasks / Subtasks
- [ ] Task 1: 공통 빈 상태 컴포넌트 구현 (AC: 1, 2, 3, 8)
  - [ ] `/components/ui/empty-state.tsx` 생성
  - [ ] Props: `icon`, `title`, `description`, `actionLabel`, `onAction`
  - [ ] 반응형 레이아웃 (Flexbox 또는 Grid)
  - [ ] shadcn/ui 디자인 시스템 따라 스타일링

- [ ] Task 2: 노트 목록 빈 상태 적용 (AC: 1, 2, 7)
  - [ ] `/components/notes/empty-state.tsx` 수정 또는 개선
  - [ ] 아이콘: 노트 아이콘 또는 일러스트레이션
  - [ ] 메시지: "아직 노트가 없습니다"
  - [ ] 설명: "첫 번째 노트를 작성하여 아이디어를 기록해보세요"
  - [ ] CTA: "새 노트 작성" 버튼

- [ ] Task 3: 검색 결과 빈 상태 구현 (AC: 4)
  - [ ] 검색 결과가 0개일 때 표시할 빈 상태 컴포넌트
  - [ ] 아이콘: 검색 아이콘 또는 돋보기
  - [ ] 메시지: "검색 결과가 없습니다"
  - [ ] 설명: "다른 키워드로 검색해보세요"
  - [ ] (선택적) "검색 초기화" 버튼

- [ ] Task 4: (선택적) 첫 방문 온보딩 툴팁 (AC: 6)
  - [ ] localStorage를 사용하여 첫 방문 여부 확인
  - [ ] 주요 기능에 대한 간단한 툴팁 표시
  - [ ] 툴팁 닫기 버튼
  - [ ] 다시 보지 않기 옵션

- [ ] Task 5: 빈 상태 일러스트레이션 추가 (AC: 2, 8)
  - [ ] SVG 아이콘 또는 lucide-react 아이콘 사용
  - [ ] 또는 간단한 일러스트레이션 (unDraw, Storyset 등)
  - [ ] 다크모드 대응 (선택적)

- [ ] Task 6: 테스트 작성
  - [ ] 빈 상태 컴포넌트 렌더링 테스트
  - [ ] CTA 버튼 클릭 테스트
  - [ ] 노트 목록 빈 상태 통합 테스트
  - [ ] 검색 결과 빈 상태 테스트

## Dev Notes

### 기술 스택
[Source: docs/architecture.md#1]
- **프레임워크:** Next.js App Router
- **UI 컴포넌트:** shadcn/ui + Tailwind CSS
- **아이콘:** lucide-react 또는 SVG

### 빈 상태 패턴
- **상황별 빈 상태:**
  1. 노트 목록 빈 상태 (노트 0개)
  2. 검색 결과 빈 상태 (검색 결과 0개)
  3. 휴지통 빈 상태 (삭제된 노트 0개) - 이미 구현됨
  4. 필터링 결과 빈 상태 (향후 구현 가능)

### 공통 빈 상태 컴포넌트 API
```typescript
interface EmptyStateProps {
  icon?: React.ReactNode;
  title: string;
  description?: string;
  actionLabel?: string;
  onAction?: () => void;
  className?: string;
}
```

### 온보딩 플로우 (선택적)
1. 첫 방문 감지 (`localStorage.getItem('hasVisited')`)
2. 주요 UI 요소에 툴팁 표시
3. 사용자가 "다시 보지 않기" 또는 툴팁 닫기 클릭
4. `localStorage.setItem('hasVisited', 'true')`

### 프로젝트 구조
[Source: project-rule.mdc]
- 공통 빈 상태 컴포넌트: `/components/ui/empty-state.tsx`
- 노트 목록 빈 상태: `/components/notes/empty-state.tsx` (기존 파일 개선)
- 검색 빈 상태: `/components/notes/search-empty-state.tsx` (향후)

### UI/UX 디자인 원칙
[Source: project-rule.mdc]
- Apple/Notion 수준의 미니멀한 디자인
- 중앙 정렬 레이아웃
- 넉넉한 여백 (padding, margin)
- 부드러운 색상 (gray-500, gray-600)
- 명확한 CTA 버튼 (primary color)

### 빈 상태 UI 레이아웃 예시
```
┌────────────────────────┐
│                        │
│       [아이콘]          │
│                        │
│  아직 노트가 없습니다   │
│                        │
│  첫 번째 노트를 작성... │
│                        │
│   [새 노트 작성 버튼]   │
│                        │
└────────────────────────┘
```

### 주의사항
[Source: project-rule.mdc]
- 모든 파일은 4줄의 헤더 주석으로 시작
- 파일은 500 LOC 이하 유지
- 빈 상태는 로딩 상태와 구분되어야 함
- 일러스트레이션은 저작권 확인 필수

### 의존성
[Source: Story 2.3]
- 노트 목록 조회 기능이 구현되어 있어야 함 (Story 2.3 완료)
- 휴지통 기능이 구현되어 있어야 함 (Story 2.6 완료 또는 진행 중)

### 참고 리소스
- **일러스트레이션:**
  - unDraw: https://undraw.co/
  - Storyset: https://storyset.com/
  - lucide-react 아이콘: https://lucide.dev/
  
- **디자인 영감:**
  - Notion 빈 상태
  - Linear 빈 상태
  - Apple Notes 빈 상태

### Testing

#### 테스트 파일 위치
- 공통 빈 상태 테스트: `__tests__/components/ui/empty-state.test.tsx`
- 노트 목록 빈 상태 테스트: `__tests__/components/notes/empty-state.test.tsx` (기존 파일 보강)
- 통합 테스트: `__tests__/app/notes/page.test.tsx` (기존 파일에 추가)

#### 테스트 표준
[Source: project-rule.mdc]
- 테스트 실행: `pnpm test`
- 모든 기능은 단위 테스트 및 통합 테스트 작성 필수

#### 이 스토리의 테스트 요구사항
1. **컴포넌트 테스트:**
   - 빈 상태 컴포넌트 렌더링 확인
   - Props 전달 확인 (title, description, actionLabel)
   - CTA 버튼 클릭 핸들러 확인
   
2. **통합 테스트:**
   - 노트 0개일 때 빈 상태 표시 확인
   - 노트가 있을 때 빈 상태 숨김 확인
   - "새 노트 작성" 버튼 클릭 시 페이지 이동 확인
   
3. **접근성 테스트:**
   - ARIA 레이블 확인
   - 키보드 네비게이션 확인

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-14 | 1.0 | 스토리 초안 생성 | SM-Bob |

## Dev Agent Record

### Agent Model Used
_개발 시 자동 기록_

### Debug Log References
_개발 시 자동 기록_

### Completion Notes List
_개발 시 자동 기록_

### File List
_개발 시 자동 기록_

---

<!-- Powered by BMAD™ Core -->

